<!doctype html><html class=no-js lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>数值转换的实现 - 神秘极客</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class=container><div class=logo><a class=logo__link href=/ title=神秘极客 rel=home><div class=logo__title>神秘极客</div><div class=logo__tagline>学习编程之美</div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/archives/><i class="fa fa-road"></i><span class=menu__text>学编程</span></a></li><li class=menu__item><a class=menu__link href=/about/><i class="fa fa-heart"></i><span class=menu__text>关于我</span></a></li><li class=menu__item><a class=menu__link href=/donate/><i class="fa fa-heart"></i><span class=menu__text>捐赠</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>数值转换的实现</h1></header><div class="post__toc toc"><div class=toc__title>目录</div><div class=toc__menu><nav id=TableOfContents></nav></div></div><div class="content post__content clearfix"><p>最近正在做大作业，学习数据结构中，做了一个小程序，实现了10进制与2-16进制的互转，以及2进制与16进制的互转，程序并不是很完善，不能实 现小数的转换，只能实现正整数的转换，还有一些小的bug。程序的实现主要利用顺序栈的特性，先进后出，利用除D取余数的方法来实现。程序是 VC++6.0编译通过的。 完整源文件请下载num-conver.c源代码如下</p><p>头文件</p><pre><code>
/**

*I/O函数

*标准库函数

*字符串函数

*字符操作函数

*非C标准库中的头文件

*内存分配

*数学函数

*/

#include &lt;stdio.h&gt;

#include &lt;stdlib.h&gt;

#include &lt;string.h&gt;

#include &lt;ctype.h&gt;

#include &lt;conio.h&gt;

#include &lt;malloc.h&gt;

#include &lt;math.h&gt;

#define ERROR 0

#define TRUE 1

#define FALSE 0

#define Stack_Size 50


定义顺序栈



/*

*定义顺序栈

*/

typedef struct{

int elem[Stack_Size];

int top;

}SeqStack;

/*

*顺序栈的入栈操作

*/

int Push(SeqStack *S,int x){

if(S-&gt;top==Stack_Size-1)

printf(&lt;栈已满无法进栈&gt;);

S-&gt;top++;

S-&gt;elem[S-&gt;top]=x;

return (TRUE);

}

/*

*顺序栈的出栈操作

*/

int Pop(SeqStack \*S,int \*x){

int i;

if(S-&gt;top==-1){

printf(&lt;栈空无法出栈&gt;);

return (FALSE);

}else{

*x=S-&gt;elem[S-&gt;top];//弹出栈顶元素

S-&gt;top&amp;#8211;;

i=*x;

printf(&lt;%d&gt;,i);

return (TRUE);

}

}



16进制的转换



oid Pop16(int x){//16进制的出栈操作

char b[17]={&lt;0123456789ABCDEF&gt;};

int c[100],d,i=0,x1;

x1=x;

do{c[i]=x%16;i++;x/=16;}

while(x!=0);

printf(&lt;将%d从10进制转换到16进制,结果为：&gt;,x1);

for(&amp;#8211;i;i&gt;=0;&amp;#8211;i){

d=c[i];printf(&lt;%c&gt;,b[d]);

}

printf(&lt;\n&gt;);

}

void Pop10_16(int x){//16进制的出栈操作

char b[17]={&lt;0123456789ABCDEF&gt;};

int c[100],d,i=0;

do{c[i]=x%16;i++;x/=16;}

while(x!=0);

for(&amp;#8211;i;i&gt;=0;&amp;#8211;i){

d=c[i];printf(&lt;%c&gt;,b[d]);

}

printf(&lt;\n&gt;);

}


输出提示性语言



void input(){//输出提示性语言

printf(&lt;\n\t请在下列功能中选择(1~4):&gt;);

printf(&lt;\n&gt;);

printf(&lt;\n\t\t1. 10进制转换&gt;);

printf(&lt;\n\t\t2. 转换到10进制&gt;);

printf(&lt;\n\t\t3. 2进制16进制互换&gt;);

printf(&lt;\n\t\t4. 退出&gt;);

printf(&lt;\n&gt;);

printf(&lt;\n\t请选择你要进行的操作:(1~4)\n默认输入的所有数据都是正整

数，均为int类型\n请按提示来输入:&gt;);

printf(&lt;\n&gt;);

}



10进制转换



void ten\_to\_other(){//10进制转其他进制

int z,x,c1,*c2;

SeqStack *ST;//申明一个顺序栈指针

ST=(SeqStack*)malloc(sizeof(SeqStack));

c2=(int*)malloc(sizeof(int));//分配内存空间

ST-&gt;top=-1;

input: printf(&lt;请输入要转换的正整数:\n&gt;);//input跳转语句标记

scanf(&lt;%d&gt;,&amp;c1);

x=c1;

if(c1&lt;0){

printf(&gt;                        您输入的不是正整数，请重新

输入!\n&gt;);goto input;

}

input1: printf(&lt;请输入要转换为几进制(请输入2-16之间的数):\n&gt;);

scanf(&lt;%d&gt;,&amp;z);

if(z&lt;=1){

printf(&gt;                         您输入的不是2-16之间的数，请重新输入!

\n&gt;);goto input1;

}

if(z&gt;=2&amp;&amp;z&lt;=15){

while(c1){

Push(ST,c1%z);c1/=z;

}//调用顺序栈的入栈操作函数

printf(&lt;将%d从10进制转换到%d进制,结果为：&gt;,x,z);

do{Pop(ST,c2);}//调用顺序栈的出栈操作函数

while(ST-&gt;top!=-1);

printf(&lt;\n&gt;);

}

else if(z==16){

Pop16(c1);//调用顺序栈的出栈操作函数

}

else{

printf(&lt;本程序暂不支持其他的进制转换\n                              请

重新输入\n\n&gt;);

}

}



16进制转换10进制



void sixteen\_to\_ten(char s[]){//数组s[]里面存放键盘输入的16进制数，16进制

转10进制

int n=0,i;

char x[Stack_Size];

strcpy(x,s);

for(i=0;s[i]!=&amp;#8217;\0&amp;#8242;;i++){

if(s[i]&gt;=&amp;#8217;0&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;9&amp;#8242;)

n=n*16+s[i]-&amp;#8216;0&amp;#8242;;

if(s[i]&gt;=&amp;#8217;a&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;f&amp;#8217;)

n=n*16+s[i]-&amp;#8216;a&amp;#8217;+10;

if(s[i]&gt;=&amp;#8217;A&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;F&amp;#8217;)

n=n*16+s[i]-&amp;#8216;A&amp;#8217;+10;

}

printf(&lt;将%s从16进制转换到10进制,结果为：%d\n&gt;,x,n);

}

sixteen\_to\_ten_1(char s[]){//16进制转10进制

int n=0,i;

char x[Stack_Size];

strcpy(x,s);

for(i=0;s[i]!=&amp;#8217;\0&amp;#8242;;i++){

if(s[i]&gt;=&amp;#8217;0&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;9&amp;#8217;)

n=n*16+s[i]-&amp;#8216;0&amp;#8242;;

if(s[i]&gt;=&amp;#8217;a&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;f&amp;#8217;)

n=n*16+s[i]-&amp;#8216;a&amp;#8217;+10;

if(s[i]&gt;=&amp;#8217;A&amp;#8217;&amp;&amp;s[i]&lt;=&amp;#8217;F&amp;#8217;)

n=n*16+s[i]-&amp;#8216;A&amp;#8217;+10;

}

return n;

}



其他进制转换为10进制



void other\_to\_ten(){//其他进制转为10进制

int i=0,j,c1,x=0,z,xl[Stack_Size];

char c[100];

input2: printf(&lt;请输入要从几进制(请输入2-16之间的数)转换到10进制:\n&gt;);

scanf(&lt;%d&gt;,&amp;c1);

if(c1&lt;=1||c1&gt;16){

printf(&gt;                        您输入的不是2-16之间的数，

请重新输入!\n&gt;);goto input2;

}

if(c1&gt;=2&amp;&amp;c1&lt;=15){

input3: printf(&lt;请输入要转换的正整数:\n&gt;);

scanf(&lt;%d&gt;,&amp;z);

if(z&lt;0){

printf(&gt;                         您输入的不是正整

数，请重新输入!\n&gt;);goto input3;

}

j=z;

while(z){

xl[i]=z%10;

z/=10;

i++;

}

for(i=i-1;i&gt;=0;i&amp;#8211;){

x+=xl[i]*(int)pow(c1,i);

}

printf(&lt;将%d从%d进制转换到10进制,结果为：%d&gt;,j,c1,x);

}else if(c1==16){

input8: printf(&lt;请输入要转换的16进制数:\n&gt;);

scanf(&lt;%s&gt;,c);

if(!((c[i]&gt;=&amp;#8217;A&amp;#8217;&amp;&amp;c[i]&lt;=&amp;#8217;F&amp;#8217;)||(c[i]&gt;=&amp;#8217;0&amp;#8217;&amp;&amp;c[i]&lt;=&amp;#8217;9&amp;#8242;)||(c[i]&gt;=&amp;#8217;a&amp;#8217;&amp;&amp;c[i]

&lt;=&amp;#8217;f&amp;#8217;))){

printf( &gt;                         您输入的不是16进制数，请重新输入

!\n &lt;);goto input8; }

sixteen\_to\_ten(c);

}else{

printf(&lt;本程序暂不支持其他的进制转换\n&gt;);

}

}



2进制与10进制的互转



er\_to\_ten(int x){//2进制转10进制

int i=0,s=0,xl[Stack_Size];

while(x){

xl[i]=x%10;

x/=10;

i++;

}

for(i=i-1;i&gt;=0;i&amp;#8211;){

s+=xl[i]*(int)pow(2,i);

}

return s;

}

void ten\_to\_er(int x,char y[]){//10进制转2进制

int *c2;

SeqStack *ST;

ST=(SeqStack*)malloc(sizeof(SeqStack));

c2=(int*)malloc(sizeof(int));

ST-&gt;top=-1;

while(x){

Push(ST,x%2);x/=2;

}

printf(&lt;将%s从16进制转换到2进制,结果为：&gt;,y);

do{Pop(ST,c2);}

while(ST-&gt;top!=-1);

printf(&lt;\n&gt;);

}



2进制和16进制的互转



void check(){//2进制与16进制的互转

int x1,x2,s,x,i=0,x3,j;

char y[Stack\_Size],xl[Stack\_Size];

printf(&lt;请输入要从哪里开始转换(输入2或者16):\n&gt;);

scanf(&lt;%d&gt;,&amp;x1);

printf(&lt;要转换为的进制(输入2或者16):\n&gt;);

scanf(&lt;%d&gt;,&amp;x2);

if(x1==2&amp;&amp;x2==16){

input6: i=0;

printf(&lt;请输入要转换的2进制数:\n&gt;);

scanf(&lt;%d&gt;,&amp;x);

x3=x;

while(x){

xl[i]=x%10;

x/=10;

i++;

}

for(j=i-1;j&gt;=0;j&amp;#8211;)

if(!(xl[j]==1&amp;&amp;xl[j]!=0||xl[j]==0&amp;&amp;xl[j]!=1))

{ printf( &gt;                         您输入的不是2进制数，请重

新输入!\n &lt;);goto input6; }

s=er\_to\_ten(x3);

printf(&lt;将%d从%d进制数转换成%d进制的结果为：&gt;,x3,x1,x2);

Pop10_16(s);

}else if(x1==16&amp;&amp;x2==2)

{

input7: printf(&lt;请输入要转换的16进制数:\n&gt;);

scanf(&lt;%s&gt;,y);

for(i=0;i&lt;strlen(y);i++)

if(!((y[i]&gt;=&amp;#8217;A&amp;#8217;&amp;&amp;y[i]&lt;=&amp;#8217;F&amp;#8217;)||(y[i]&gt;=&amp;#8217;0&amp;#8217;&amp;&amp;y[i]&lt;=&amp;#8217;9&amp;#8242;)||(y[i]

&gt;=&amp;#8217;a&amp;#8217;&amp;&amp;y[i]&lt;=&amp;#8217;f&amp;#8217;)))

{ printf( &gt;                         您输入不是16进制数，请

重新输入!\n &lt;);goto input7; }

s=sixteen\_to\_ten_1(y);

ten\_to\_er(s,y);

} else{

printf(&lt;输入的数据有错误，请检查或者其他不支持的转换\n

请重新输入\n\n&gt;);

}

}



main函数



void main(){

system(&lt;color 2&gt;);

int a,b;

printf(&lt;★★★★★★★★★★★★★★★★★★★★★★★★★★★★★

★★★★★★★★★★★\n&gt;);

printf(&lt;\n                     ★★★★★欢迎进入数值转换系统★★

★★★\n&gt;);

printf(&lt;\n                          &amp;#8212;&amp;#8212;第1小组大作业\n&gt;);

printf(&lt;\n 计算机应用(2)班第1组全体组员:XX XXX XXX XX XX XX XX XX

\n&gt;);

printf(&lt;\n\n★★★★★★★★★★★★★★★★★★★★★★★★★★★

★★★★★★★★★★★★★\n&gt;);

printf(&lt;\n\t\t                  数值转换系统\n&gt;);

printf

(&lt;========================================================================

========\n&gt;);

printf(&lt;\t    \***\***\***\***\***\***\***\****主菜单

\***\***\***\***\***\***\***\*****\n&gt;);

loop: input();

while(1){

scanf(&lt;%d&gt;,&amp;a);

switch(a){

case 1: ten\_to\_other();input();break;       //10进

制转换到2 8 16 进制

case 2: other\_to\_ten();input();break;           //任意进制转10

进制

case 3: check();input();break;                  //2和16进制的

互转

case 4: printf(&gt;                     谢谢使用!本程序仅供交流学

习，版权所有!\n\n&gt;);exit(0);break;      //退出

default :printf(&gt;

输入错误!\n请按照说明重新输入，输入1~4的数字!\n&gt;);goto loop;break;

}

}

//不支持小数的转换，应用范围很小，输入很大的数 会出现问题。

}

</code></pre></div></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="GeekWho avatar" src=/images/avatar.jpeg class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>关于 GeekWho</span></div><div class=authorbox__description>PHP and Go are the best language in the world.</div></div><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script><script>const gitalk=new Gitalk({clientID:'13b47a49e0f947bf69e0',clientSecret:'a4f2f9622955ed3993f37d1b82eddab12abdeffe',repo:'xbc.me',owner:'geekwho11',admin:['geekwho11'],id:location.pathname,distractionFreeMode:false});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return;}
gitalk.render('gitalk-container');})();</script></div><aside class=sidebar><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://google.com/search><label><input class=widget-search__field type=search placeholder=搜索... name=q aria-label=搜索...></label>
<input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sitesearch value=/></form></div><div class="widget-recent widget"><h4 class=widget__title>近期文章</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/build-master-slave-mysql-service/>搭建主从MySQL服务</a></li><li class=widget__item><a class=widget__link href=/git-command-line-development-guide/>Git命令行开发指南</a></li><li class=widget__item><a class=widget__link href=/php-short-syntax-and-operator/>PHP的简化运算符</a></li><li class=widget__item><a class=widget__link href=/rd-environment/>研发环境那些事</a></li><li class=widget__item><a class=widget__link href=/php-autoload/>PHP自动加载</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>分类</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/%E5%AD%A6%E7%BC%96%E7%A8%8B/>学编程</a></li><li class=widget__item><a class=widget__link href=/categories/%E7%A5%9E%E7%A7%98%E6%9E%81%E5%AE%A2/>神秘极客</a></li><li class=widget__item><a class=widget__link href=/categories/%E9%9A%8F%E7%AC%94/>随笔</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>标签</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/go/ title=Go>Go</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript/ title=JavaScript>JavaScript</a>
<a class="widget-taglist__link widget__link btn" href=/tags/linux/ title=Linux>Linux</a>
<a class="widget-taglist__link widget__link btn" href=/tags/magento/ title=Magento>Magento</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mysql/ title=MySQL>MySQL</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nginx/ title=Nginx>Nginx</a>
<a class="widget-taglist__link widget__link btn" href=/tags/php/ title=PHP>PHP</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ubuntu/ title=Ubuntu>Ubuntu</a>
<a class="widget-taglist__link widget__link btn" href=/tags/unittest/ title=UnitTest>UnitTest</a>
<a class="widget-taglist__link widget__link btn" href=/tags/wordpress/ title=WordPress>WordPress</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E5%89%8D%E7%AB%AF/ title=前端>前端</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E5%90%8E%E7%AB%AF/ title=后端>后端</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95/ title=常见算法>常见算法</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/ title=年终总结>年终总结</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ title=数据结构>数据结构</a></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">社交</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/geekwho11 target=_blank><svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg><span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:geekwho@xbc.me><svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg><span>geekwho@xbc.me</span></a></div></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2020 神秘极客.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a>主題</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>